name: GitHub Actions Basics Demonstration

# This workflow is triggered by various events for demonstration purposes
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
  issues:
    types: [opened, edited]
  workflow_dispatch: # Allows manual triggering of the workflow

jobs:
  demonstrate-basics:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ['3.8', '3.9', '3.10']
        os: [ubuntu-latest, macos-latest]
    steps:
      - name: Print Basic Info
        run: |
          echo "ğŸš€ The workflow was triggered by a ${{ github.event_name }} event."
          echo "ğŸŒ¿ The event's action type is ${{ github.event.action }}."
          echo "ğŸ”„ Workflow run ID: ${{ github.run_id }}."
          echo "ğŸ“… Workflow run number: ${{ github.run_number }}."
          echo "ğŸ”¢ Workflow run attempt: ${{ github.run_attempt }}."
          echo "ğŸ‘¤ Actor: ${{ github.actor }}."
          echo "ğŸ”— Repository: ${{ github.repository }}."
          echo "ğŸŒ³ Ref: ${{ github.ref }}."
          echo "ğŸ“Š Event Path: ${{ github.event_path }}."
      - name: Check out Repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 1 # Fetches only the latest commit

      - name: Display Repository Information
        run: |
          echo "ğŸ“ Listing files in the repository directory:"
          ls -al ${{ github.workspace }}
          echo "ğŸ“œ Contents of the README file:"
          cat ${{ github.workspace }}/README.md || echo "No README.md file found."

      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
        id: python-setup

      - name: Run Python Script
        run: |
          python -c "print('Hello, GitHub Actions!')"
          python --version

      - name: Display Job Status
        run: |
          echo "ğŸ The current job status is ${{ job.status }}."
          echo "ğŸ” The current step status is ${{ steps.step-status.outcome }}."
        id: step-status
